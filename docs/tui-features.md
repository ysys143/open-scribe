# Open-Scribe TUI 기능 가이드

## 목차
1. [TUI 개요](#tui-개요)
2. [메인 메뉴](#메인-메뉴)
3. [전사 화면](#전사-화면)
4. [데이터베이스 브라우저](#데이터베이스-브라우저)
5. [작업 모니터](#작업-모니터)
6. [설정 관리](#설정-관리)
7. [키보드 단축키](#키보드-단축키)
8. [고급 기능](#고급-기능)

## TUI 개요

Open-Scribe TUI는 Textual 프레임워크를 기반으로 구축된 현대적인 터미널 사용자 인터페이스입니다.

### 실행 방법
```bash
# 기본 실행
python tui.py

# 개발 모드 (핫 리로드)
textual run --dev src.tui.app:YouTubeTranscriberTUI
```

### 주요 특징
- **실시간 업데이트**: 모든 작업 상태가 실시간으로 갱신
- **비동기 처리**: UI 블로킹 없이 백그라운드 작업 수행
- **반응형 디자인**: 터미널 크기에 자동 적응
- **테마 지원**: 다크/라이트 테마 전환 가능

## 메인 메뉴

### 화면 구성
```
┌─────────────────────────────────────────────────┐
│         Open-Scribe v2.0 - Main Menu            │
├─────────────────────────────────────────────────┤
│  [F1] New Transcription   - 새 전사 작업 시작   │
│  [F2] Database Browser    - 데이터베이스 검색   │
│  [F3] Job Monitor        - 작업 모니터링        │
│  [F4] Settings           - 설정 관리            │
│  [F5] API Keys           - API 키 관리          │
│                                                 │
│  [ESC/q] Exit            - 종료                 │
└─────────────────────────────────────────────────┘
```

### 네비게이션
- **F1-F5**: 각 기능 화면으로 이동
- **Tab/Shift+Tab**: 요소 간 이동
- **Enter**: 선택 확인
- **ESC**: 이전 화면으로 돌아가기

## 전사 화면

### 입력 필드
```
┌─────────────────────────────────────────────────┐
│            New Transcription                     │
├─────────────────────────────────────────────────┤
│  YouTube URL:                                   │
│  [________________________] [Validate]          │
│                                                 │
│  Engine:                                        │
│  [▼ gpt-4o-mini-transcribe    ]                │
│                                                 │
│  Options:                                       │
│  [x] Stream output                              │
│  [ ] Generate summary                           │
│  [ ] Save to Downloads                          │
│  [ ] Include timestamps                         │
│  [ ] Download video                             │
│  [ ] Generate SRT                               │
│  [ ] Translate to Korean                        │
│                                                 │
│  [Start Transcription] [Cancel]                 │
└─────────────────────────────────────────────────┘
```

### 실시간 진행 상황
```
┌─────────────────────────────────────────────────┐
│            Transcription Progress                │
├─────────────────────────────────────────────────┤
│  Status: Transcribing...                        │
│  ▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░ 45%                    │
│  ETA: 2 minutes 30 seconds                      │
│                                                 │
│  Output:                                        │
│  ┌─────────────────────────────────────────┐   │
│  │ [00:00:00] 안녕하세요. 오늘은...        │   │
│  │ [00:00:15] 이 비디오에서는...            │   │
│  │ [00:00:30] 첫 번째 주제는...             │   │
│  └─────────────────────────────────────────┘   │
└─────────────────────────────────────────────────┘
```

### 기능 상세

#### 엔진 선택
- **gpt-4o-transcribe**: 최고 품질 (느림, 비용 높음)
- **gpt-4o-mini-transcribe**: 균형잡힌 선택 (기본값)
- **whisper-api**: OpenAI Whisper API
- **whisper-cpp**: 로컬 처리 (오프라인 가능)
- **youtube-transcript-api**: 가장 빠름 (자막 필요)

#### 옵션 설명
- **Stream output**: 전사 중 실시간 텍스트 표시
- **Generate summary**: AI 요약 생성
- **Include timestamps**: 타임코드 포함
- **Download video**: 비디오 파일 저장
- **Generate SRT**: 자막 파일 생성
- **Translate**: 한국어 번역

## 데이터베이스 브라우저

### 검색 및 필터링
```
┌─────────────────────────────────────────────────┐
│           Database Browser                       │
├─────────────────────────────────────────────────┤
│  Search: [_______________] [Search] [Clear]     │
│  Filter: [All▼] Sort: [Date▼] [Refresh]        │
│                                                 │
│  ┌───┬──────────────┬────────┬──────────────┐  │
│  │ID │Title         │Engine  │Date          │  │
│  ├───┼──────────────┼────────┼──────────────┤  │
│  │1  │영상 제목 1   │youtube │2025-09-08    │  │
│  │2  │영상 제목 2   │gpt-4o  │2025-09-07    │  │
│  │3  │영상 제목 3   │whisper │2025-09-06    │  │
│  └───┴──────────────┴────────┴──────────────┘  │
│                                                 │
│  [View] [Export] [Delete] [Back]                │
└─────────────────────────────────────────────────┘
```

### 검색 기능
- **제목 검색**: 비디오 제목으로 검색
- **URL 검색**: YouTube URL로 검색
- **날짜 범위**: 특정 기간 필터링
- **엔진 필터**: 특정 엔진으로 전사된 항목만

### 데이터 관리
- **View**: 전사 결과 상세 보기
- **Export**: CSV/JSON 형식으로 내보내기
- **Delete**: 선택 항목 삭제 (확인 필요)
- **Batch Operations**: 다중 선택 및 일괄 처리

### 상세 보기
```
┌─────────────────────────────────────────────────┐
│           Transcription Details                  │
├─────────────────────────────────────────────────┤
│  Title: 영상 제목                               │
│  URL: https://youtube.com/watch?v=...           │
│  Engine: gpt-4o-mini-transcribe                 │
│  Date: 2025-09-08 14:30:00                      │
│  Duration: 15:30                                │
│                                                 │
│  Transcript:                                    │
│  ┌─────────────────────────────────────────┐   │
│  │ [전사 내용 표시...]                      │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  Summary:                                       │
│  ┌─────────────────────────────────────────┐   │
│  │ [요약 내용 표시...]                      │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  [Copy Text] [Open File] [Back]                 │
└─────────────────────────────────────────────────┘
```

## 작업 모니터

### 실시간 모니터링
```
┌─────────────────────────────────────────────────┐
│              Job Monitor                         │
├─────────────────────────────────────────────────┤
│  Active Jobs: 3  |  Completed: 12  |  Failed: 1 │
│                                                 │
│  ┌───┬──────────┬─────────┬──────────────────┐ │
│  │ID │Title     │Status   │Progress          │ │
│  ├───┼──────────┼─────────┼──────────────────┤ │
│  │1  │Video 1   │Running  │▓▓▓▓░░ 65%        │ │
│  │2  │Video 2   │Queued   │░░░░░░ Waiting    │ │
│  │3  │Video 3   │Running  │▓░░░░░ 20%        │ │
│  └───┴──────────┴─────────┴──────────────────┘ │
│                                                 │
│  Selected Job Details:                          │
│  ┌─────────────────────────────────────────┐   │
│  │ Job ID: 1                                │   │
│  │ Started: 14:30:00                        │   │
│  │ ETA: 2 minutes                           │   │
│  │ Engine: gpt-4o-mini                      │   │
│  │ Status: Transcribing audio...            │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  [Pause] [Resume] [Cancel] [Clear Completed]    │
└─────────────────────────────────────────────────┘
```

### 작업 상태
- **Queued**: 대기 중
- **Downloading**: 다운로드 중
- **Transcribing**: 전사 중
- **Processing**: 후처리 중
- **Completed**: 완료
- **Failed**: 실패
- **Cancelled**: 취소됨

### 작업 제어
- **Pause/Resume**: 작업 일시정지/재개
- **Cancel**: 진행 중인 작업 취소
- **Retry**: 실패한 작업 재시도
- **Priority**: 작업 우선순위 조정

## 설정 관리

### 설정 화면
```
┌─────────────────────────────────────────────────┐
│                Settings                          │
├─────────────────────────────────────────────────┤
│  General Settings:                              │
│  ┌─────────────────────────────────────────┐   │
│  │ Default Engine: [gpt-4o-mini▼]          │   │
│  │ Output Directory: [~/Documents/...]      │   │
│  │ [x] Stream by default                    │   │
│  │ [x] Save to Downloads                    │   │
│  │ [ ] Auto-generate summary                │   │
│  │ Max Workers: [4_____]                     │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  Audio Settings:                                │
│  ┌─────────────────────────────────────────┐   │
│  │ Audio Format: [mp3▼]                     │   │
│  │ Audio Quality: [128k▼]                   │   │
│  │ [x] Auto-compress large files            │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  Theme:                                         │
│  ○ Dark  ● Light  ○ Auto                       │
│                                                 │
│  [Save] [Reset] [Cancel]                        │
└─────────────────────────────────────────────────┘
```

### 설정 카테고리

#### General
- 기본 전사 엔진
- 출력 디렉토리
- 기본 옵션 설정
- 병렬 처리 워커 수

#### Audio
- 오디오 형식 (mp3, wav, m4a)
- 비트레이트 설정
- 자동 압축 옵션

#### API Keys
- OpenAI API 키
- 기타 서비스 키

#### Theme
- 다크/라이트 모드
- 색상 스킴
- 폰트 크기

## 키보드 단축키

### 전역 단축키
| 키 | 기능 |
|---|------|
| F1 | 새 전사 |
| F2 | 데이터베이스 |
| F3 | 작업 모니터 |
| F4 | 설정 |
| F5 | API 키 |
| ESC | 뒤로/종료 |
| q | 종료 |
| ? | 도움말 |

### 화면별 단축키

#### 데이터베이스 브라우저
| 키 | 기능 |
|---|------|
| / | 검색 포커스 |
| Enter | 항목 선택 |
| Delete | 삭제 |
| e | 내보내기 |
| r | 새로고침 |
| ↑↓ | 항목 이동 |
| Space | 다중 선택 |

#### 작업 모니터
| 키 | 기능 |
|---|------|
| p | 일시정지/재개 |
| c | 취소 |
| r | 재시도 |
| Delete | 완료 항목 제거 |

## 고급 기능

### 배치 처리
```python
# 재생목록 전체 처리
1. URL 입력 시 재생목록 자동 감지
2. 비디오 목록 표시 및 선택
3. 병렬 처리 옵션 설정
4. 일괄 실행
```

### 스마트 검색
```
# 검색 문법
title:"검색어"         # 제목 검색
url:youtube.com/...    # URL 검색
engine:gpt-4o         # 엔진 필터
date:2025-09-01..     # 날짜 범위
status:completed      # 상태 필터
```

### 내보내기 옵션
- **CSV**: 스프레드시트 호환
- **JSON**: 프로그래밍 연동
- **Markdown**: 문서화용
- **SRT**: 자막 파일

### 테마 커스터마이징
```css
/* tui_config.json */
{
  "theme": {
    "primary": "#007acc",
    "secondary": "#40a9ff",
    "background": "#1e1e1e",
    "text": "#d4d4d4",
    "success": "#52c41a",
    "error": "#f5222d"
  }
}
```

### 플러그인 시스템
- 커스텀 전사 엔진 추가
- 후처리기 확장
- UI 위젯 커스터마이징

---

최종 업데이트: 2025-09-08